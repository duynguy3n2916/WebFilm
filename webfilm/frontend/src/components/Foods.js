import './Foods.css';
import { Button } from './UI';
import { money } from './sharedData';

export default function Foods({ addItem, user, onAuthRequired }) {
  const foods = [
    { id: 'f1', name: 'B·∫Øp caramel', price: 49000, type: 'food', items: 'B·∫Øp caramel th∆°m ngon', image: '' },
    { id: 'f2', name: 'B·∫Øp ph√¥ mai', price: 59000, type: 'food', items: 'B·∫Øp ph√¥ mai ƒë·∫≠m ƒë√†', image: '' },
    { id: 'f3', name: 'Coca 500ml', price: 29000, type: 'drink', items: 'Coca-Cola 500ml', image: '' },
  ];

  const getFoodIcon = (name) => {
    if (name.toLowerCase().includes('b·∫Øp')) return 'üçø';
    if (name.toLowerCase().includes('coca') || name.toLowerCase().includes('n∆∞·ªõc')) return 'ü•§';
    return 'üçø';
  };

  const handleAddItem = (item) => {
    if (!user) {
      onAuthRequired();
      return;
    }
    addItem(item);
  };

  return (
    <div className="foods-page">
      <div className="foods-header">
        <h2 className="foods-title">üçø ƒê·ªì ƒÉn & ƒê·ªì u·ªëng</h2>
        <p className="foods-subtitle">L√†m phong ph√∫ tr·∫£i nghi·ªám xem phim c·ªßa b·∫°n</p>
      </div>

      <div className="foods-grid">
        {foods.map(f => (
          <div key={f.id} className="food-card">
            <div className="food-icon">{getFoodIcon(f.name)}</div>
            
            <div className="food-content">
              <h4 className="food-name">{f.name}</h4>
              <p className="food-description">{f.items}</p>
              
              <div className="food-price">{money(f.price)}</div>
              
              <Button 
                onClick={() => handleAddItem(f)}
                className="add-food-btn"
              >
                <span className="btn-icon">‚ûï</span>
                Th√™m v√†o gi·ªè
              </Button>
            </div>
            
            <div className="food-badge">Ph·ªï bi·∫øn</div>
          </div>
        ))}
      </div>

      <div className="foods-tips">
        <div className="tip-icon">üí°</div>
        <div className="tip-content">
          <strong>M·∫πo nh·ªè:</strong> Mua combo s·∫Ω ti·∫øt ki·ªám h∆°n khi mua ri√™ng l·∫ª!
        </div>
      </div>
    </div>
  );
}
